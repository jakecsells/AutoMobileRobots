task main()
{
  SetSensorTouch(IN_1);
  SetSensorTouch(IN_4);
  bool big_turn = false;
  
  while (true)
  {
    OnFwd(OUT_AC, 50);
    
    // If left touch sensor pressed
    if (SENSOR_4 == 1)
    {
      Off(OUT_AC);
      Wait(500);
      
      if (SENSOR_1 == 1)
      {
        big_turn = true;
      }
      
      OnRev(OUT_AC, 50);
      Wait(500);
      Off(OUT_A);
      
      if (big_turn)
      {
        OnFwd(OUT_C, 50);
        Wait(1000);
      }
      
      else
      {
        OnFwd(OUT_C, 50);
        Wait(500);
      }
      
      big_turn = false;
    }
    
    // If right touch sensor pressed
    if (SENSOR_1 == 1)
    {
      Off(OUT_AC);
      Wait(500);
      
      if (SENSOR_4 == 1)
      {
        big_turn = true;
      }
      
      OnRev(OUT_AC, 50);
      Wait(500);
      Off(OUT_C);
      
      if (big_turn)
      {
        OnFwd(OUT_A, 50);
        Wait(1000);
      }
      
      else
      {
        OnFwd(OUT_A, 50);
        Wait(500);
      }
      
      big_turn = false;
    }
  }
}
